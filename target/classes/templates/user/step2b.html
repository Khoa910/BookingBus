<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FUTA</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/plugins/flexslider/flexslider.css}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script th:src="@{/js/jquery-1.11.3.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/plugins/flexslider/jquery.flexslider-min.js}"></script>
    <script th:src="@{/js/theme.js}"></script>
    <style>
        /* Định dạng giữ nguyên */
    </style>
</head>
<body>
<div id="page">
    <!-- Header -->
    <header>
        <div id="top">
            <div class="container">
                <div class="support"><i class="fa fa-phone"></i> Tổng đài hỗ trợ: <span>0902 1818 52</span></div>
                <ul>
                    <li><a href="#">EN</a></li>
                    <li><a href="#">Đăng nhập</a></li>
                    <li><a href="#">Đăng ký</a></li>
                </ul>
            </div>
        </div>
        <div id="header-body">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <h1 id="logo">
                            <a href=""><img th:src="@{/img/logo.png}" alt="Logo"/></a>
                        </h1>
                    </div>
                    <div class="col-lg-6">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-nav" aria-expanded="false">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <a href="/" class="navbar-brand">Trang chủ</a>
                        </div>
                        <nav id="main-nav" class="collapse navbar-collapse clearfix">
                            <ul>
                                <li><a href="#">Khuyến mãi</a></li>
                                <li><a href="#">Lịch trình</a></li>
                                <li><a href="#">Liên hệ</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Body Content -->
    <section id="body-content">
        <!-- PHẦN THAY ĐỔI: Nội dung giữa -->
        <div class="container">
            <p class="text-center text-uppercase text-primary">Thông tin chọn ghế</p>
            <form id="frm-book-slot" th:action="@{/user/confirmSelection}" method="post">
                <input type="hidden" name="busScheduleId" th:value="${selectedRoute.bus_id}" />
                <fieldset>
                    <!-- Tabs -->
                    <ul class="v-tabs clearfix" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#tier-up" aria-controls="home" role="tab" data-toggle="tab">Tầng trên</a>
                        </li>
                        <li role="presentation">
                            <a href="#tier-down" aria-controls="profile" role="tab" data-toggle="tab">Tầng dưới</a>
                        </li>
                    </ul>

                    <!-- Nội dung tab -->
                    <div class="tab-content">
                        <!-- Tầng trên -->
                        <div role="tabpanel" class="tab-pane active" id="tier-up">
                            <table class="grid-seat table">
                                <thead>
                                <tr>
                                    <th colspan="6">Tầng trên (B)</th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- Dãy đầu tiên -->
                                <tr>
                                    <td th:each="seat : ${upstairsRow1}">
                                        <div th:class="'seat ' + ${seat.getStatus()}">
                                            <input type="checkbox" name="seatIds" th:value="${seat.getId_seat()}" th:disabled="${seat.getStatus() == 'BOOKED'}">
                                            <span th:text="${seat.getSeat_name()}"></span>
                                        </div>
                                    </td>
                                </tr>
                                <!-- Dãy thứ hai -->
                                <tr>
                                    <td th:each="seat : ${upstairsRow2}">
                                        <div th:class="'seat ' + ${seat.getStatus()}">
                                            <input type="checkbox" name="seatIds" th:value="${seat.getId_seat()}" th:disabled="${seat.getStatus() == 'BOOKED'}">
                                            <span th:text="${seat.getSeat_name()}"></span>
                                        </div>
                                    </td>
                                </tr>
                                <!-- Dãy thứ ba -->
                                <tr>
                                    <td th:each="seat : ${upstairsRow3}">
                                        <div th:class="'seat ' + ${seat.getStatus()}">
                                            <input type="checkbox" name="seatIds" th:value="${seat.getId_seat()}" th:disabled="${seat.getStatus() == 'BOOKED'}">
                                            <span th:text="${seat.getSeat_name()}"></span>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Tầng dưới -->
                        <div role="tabpanel" class="tab-pane" id="tier-down">
                            <table class="grid-seat table">
                                <thead>
                                <tr>
                                    <th colspan="6">Tầng dưới (A)</th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- Dãy đầu tiên -->
                                <tr>
                                    <td th:each="seat : ${downstairsRow1}">
                                        <div th:class="'seat ' + ${seat.getStatus()}">
                                            <input type="checkbox" name="seatIds" th:value="${seat.getId_seat()}" th:disabled="${seat.getStatus() == 'BOOKED'}">
                                            <span th:text="${seat.getSeat_name()}"></span>
                                        </div>
                                    </td>
                                </tr>
                                <!-- Dãy thứ hai -->
                                <tr>
                                    <td th:each="seat : ${downstairsRow2}">
                                        <div th:class="'seat ' + ${seat.getStatus()}">
                                            <input type="checkbox" name="seatIds" th:value="${seat.getId_seat()}" th:disabled="${seat.getStatus() == 'BOOKED'}">
                                            <span th:text="${seat.getSeat_name()}"></span>
                                        </div>
                                    </td>
                                </tr>
                                <!-- Dãy thứ ba -->
                                <tr>
                                    <td th:each="seat : ${downstairsRow3}">
                                        <div th:class="'seat ' + ${seat.getStatus()}">
                                            <input type="checkbox" name="seatIds" th:value="${seat.getId_seat()}" th:disabled="${seat.getStatus() == 'BOOKED'}">
                                            <span th:text="${seat.getSeat_name()}"></span>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </fieldset>
                <!-- Nút Tiếp tục -->
                <div class="form-section">
                    <button type="submit" class="btn btn-primary btn-block">Tiếp tục</button>
                </div>

                <!-- Trạng thái ghế -->
                <div class="row">
                    <div class="col-lg-4">
                        <div class="seat booked"></div><span>Đã đặt</span>
                    </div>
                    <div class="col-lg-4">
                        <div class="seat available"></div><span>Còn trống</span>
                    </div>
                    <div class="col-lg-4">
                        <div class="seat selected"></div><span>Đã chọn</span>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div id="footer-img">
            <img th:src="@{/img/bg-top-footer.png}" class="center-block">
        </div>
        <div id="footer-body">
            <div class="f-body-wrap container">
                <nav id="nav-f">
                    <ul>
                        <li><a href="#">Lịch trình</a></li>
                        <li><a href="#">Về chúng tôi</a></li>
                        <li><a href="#">Hỗ trợ khách hàng</a></li>
                        <li><a href="#">Thanh toán an toàn</a></li>
                        <li><a href="#">Tuyển dụng</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </footer>
</div>
</body>
</html>
